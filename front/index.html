<!--#include virtual="/header-start.html" -->
<title>*U* UFO Database</title>
<!--#include virtual="/header-end.html" -->
<style>
  tbody {
    display: table-row-group !important;
    width: auto !important;
  }

  .criteria {
    font-family: monospace, Courier;
  }

  thead {
    display: table-header-group !important;
    width: auto !important;
  }

  tr {
    display: table-row !important;
    width: auto !important;
  }

  th, td {
    display: table-cell !important;
    width: auto !important;
  }

  .table-container {
    height: 70vh;
    width: 100vw;
    overflow: auto;
  }

  .log {
    float: right;
    width: 25em;
    height: 3em;
    padding: 0.5em;
    margin: 0.5em;
    border: 1px solid gray;
    overflow: auto;
  }
</style>
<p>This is the web front of <a href="https://github.com/RR0/uDb">uDb</a>, a project to make
  <a href="http://web.archive.org/web/20060701162044/http://www.larryhatch.net/">Larry Hatch database</a> available
  again.
</p>
<hr/>
<div ng-controller="UdbController as udbCtrl">
  <div class="log" ng-bind-html="udbCtrl.logs"></div>
  <form ng-submit="udbCtrl.search()">
    <label for="matchInput">Match criteria</label> <input id="matchInput" ng-model="udbCtrl.matchCriteria">
    <input type="submit" value="Search">
    <div> (for example, <code>year=1972&month=8|month=7&country=France</code> will list cases that occurred on August of
      1972, or in July of any year in France)
    </di  v>
  </form>
  <p ng-cloak>Found {{udbCtrl.matchResults.length ? udbCtrl.matchResults.length : 'no'}} records matching criteria
    <span class="criteria">{{udbCtrl.matchCriteria}}</span>.
  </p>
  <div class="table-container" ng-if="udbCtrl.matchResults.length > 0" ng-cloak>
    <table>
      <thead>
      <tr>
        <th ng-repeat="(prop,value) in udbCtrl.matchResults[0]">{{::prop}}</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="record in udbCtrl.matchResults">
        <td ng-repeat="(prop,value) in record">
          <span ng-switch="prop">
            <span ng-switch-when="location">
              <span class="place">{{::record[prop]}}</span>
            </span>
            <span ng-switch-default>{{::record[prop]}}</span>
          </span>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<!--#include virtual="/footer.html" -->
<script src="udb-front.js"></script>
